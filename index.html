<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>arrow move</title>
    <script src="test.js"></script>
</head>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<table>
<tbody id="tbody1">
<tr>
    <td><input type="text" id="row1_col1" autofocus></td>
    <td><input type="text" id="row1_col2"></td>
    <td><input type="text" id="row1_col3"></td>
    <td><input type="text" id="row1_col4"></td>
</tr>
<tr>
    <td><input type="text" id="row2_col1"></td>
    <td colspan="1"></td>
    <td colspan="1"></td>
    <td><input type="text" id="row2_col4"></td>
</tr>
<tr>
    <td><input type="text" id="row3_col1"></td>
    <td><input type="text" id="row3_col2"></td>
    <td colspan="1"></td>
    <td><input type="text" id="row3_col4"></td>
</tr>
<tr>
    <td><input type="text" id="row4_col1"></td>
    <td><input type="text" id="row4_col2"></td>
    <td><input type="text" id="row4_col3"></td>
    <td colspan="1"></td>
</tr>
<tr>
    <td><input type="text" id="row5_col1"></td>
    <td><input type="text" id="row5_col2"></td>
    <td><input type="text" id="row5_col3"></td>
    <td><input type="text" id="row5_col4"></td>
</tr>
<tr>
    <td><input type="text" id="row6_col1"></td>
    <td colspan="1"></td>
    <td><input type="text" id="row6_col3"></td>
    <td><input type="text" id="row6_col4"></td>
</tr>
</tbody>
</table>
<script>




    $(document).keydown(function (e) {
        console.log(e.keyCode)  //37 left,38 up,39 right,40 down
        let row={num:0,length:0},col={num:0,length:0};
        let id,target;
        target = e.target.id;
        row.num = Number(target.slice(3,target.indexOf('_')));
        col.num = Number(target.slice(target.indexOf('l')+1,target.length));
        row.length = $('#tbody1 tr').length;
        col.length = $('#tbody1 tr').eq(0).find('td').length;

        while($(id).length === 0 || ("#"+target === id)){
     switch (e.keyCode){
                case 37:
                    if(col.num < 1){
                        col.num = col.length;
                        (row.num === 1) ? row.num = row.length : row.num--;
                    }else{
                        col.num--;
                    }
                    break;
                case 39:
                    if(col.num > col.length ){
                        col.num = 1;
                        (row.num === row.length) ? row.num = 1 : row.num++;
                    }else{
                        col.num++;
                    }
                    break;
                case 38:
                    if(row.num < 1 ){
                        row.num = row.length;
                        (col.num === 1) ? col.num = col.length : col.num--;
                    }else{
                        row.num--;
                    }
                    break;
                case 40:
                    if(row.num > row.length ){
                        row.num = 1;
                        (col.num === col.length) ? col.num = 1 : col.num++;
                    }else{
                        row.num++;
                    }
                    break;
                default:
                    break;
            }
            id = '#row' + row.num + '_col' + col.num;
            if($(id).length === 1) {
                break;
            }
        }
        $(id).focus();
    })







</script>

</body>
</html>